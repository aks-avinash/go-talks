<!DOCTYPE html>
<!-- saved from url=(0050)https://talks.golang.org/2016/applicative.slide#14 -->
<html class="gr__talks_golang_org"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Program your next server in Go</title>
    
    <script type="text/javascript" async="" src="./Program your next server in Go_files/ga.js"></script><script src="./Program your next server in Go_files/slides.js"></script>
    <script>
      
      if (window["location"] && window["location"]["hostname"] == "talks.golang.org") {
        var _gaq = _gaq || [];
        _gaq.push(["_setAccount", "UA-11222381-6"]);
        _gaq.push(["b._setAccount", "UA-49880327-6"]);
        window.trackPageview = function() {
          _gaq.push(["_trackPageview", location.pathname+location.hash]);
          _gaq.push(["b._trackPageview", location.pathname+location.hash]);
        };
        window.trackPageview();
        window.trackEvent = function(category, action, opt_label, opt_value, opt_noninteraction) {
          _gaq.push(["_trackEvent", category, action, opt_label, opt_value, opt_noninteraction]);
          _gaq.push(["b._trackEvent", category, action, opt_label, opt_value, opt_noninteraction]);
        };
      }
    </script>
  <meta name="viewport" content="width=1100,height=750"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="chromesniffer" id="chromesniffer_meta" content="{&quot;Google Analytics&quot;:-1,&quot;jQuery&quot;:&quot;1.8.2&quot;,&quot;jQuery UI&quot;:&quot;1.10.2&quot;,&quot;SPDY&quot;:-1}"><script type="text/javascript" src="chrome-extension://homgcnaoacgigpkkljjjekpignblkeae/detector.js"></script><style type="text/css">/*.lleo_errorSelection *::-moz-selection,
.lleo_errorSelection *::selection,
.lleo_errorSelection *::-webkit-selection {
    background-color: red !important;
    color: #fff !important;;
}*/

#lleo_dialog,
#lleo_dialog * {
    color: #000 !important;
    font: normal 13px Arial, Helvetica !important;
    line-height: 15px !important;
    margin: 0 !important;
	padding: 0 !important;
	background: none !important;
	border: none 0 !important;
	position: static !important;
	vertical-align: baseline !important;
	overflow: visible !important;
	width: auto !important;
	height: auto !important;
    max-width: none !important;
    max-height: none !important;
	float: none !important;
	visibility: visible !important;
	text-align: left !important;
    text-transform: none !important;
	border-collapse: separate !important;
	border-spacing: 2px !important;
    box-sizing: content-box !important;
    box-shadow: none !important;
    opacity: 1 !important;
    text-shadow: none !important;
    letter-spacing: normal !important;
    -webkit-filter: none !important;
    -moz-filter: none !important;
    filter: none !important;
}
#lleo_dialog *:before,
#lleo_dialog *:after {
    content: '';
}

#lleo_dialog iframe {
	height: 0 !important;
	width: 0 !important;
}

#lleo_dialog {
    position: absolute !important;
    background: #fff !important;
    border: solid 1px #ccc !important;
    padding: 7px 0 0 !important;
    left: -999px;
    top: -999px;
    width: 440px !important;
    overflow: hidden;
    display: block !important;
    z-index: 999999999 !important;
    box-shadow: 8px 16px 30px rgba(0, 0, 0, 0.16) !important;
    border-radius: 3px !important;
    opacity: 0 !important;
    -webkit-transform: translateY(15px);
    -moz-transform: translateY(15px);
    -ms-transform: translateY(15px);
    -o-transform: translateY(15px);
    transform: translateY(15px);
}
#lleo_dialog.lleo_show_small {
    width: 150px !important;
}
#lleo_dialog.lleo_show {
    opacity: 1 !important;
    -webkit-transform: translateY(0);
    -moz-transform: translateY(0);
    -ms-transform: translateY(0);
    -o-transform: translateY(0);
    transform: translateY(0);
    -webkit-transition: -webkit-transform 0.3s, opacity 0.3s !important;
    -moz-transition: -moz-transform 0.3s, opacity 0.3s !important;
    -ms-transition: -ms-transform 0.3s, opacity 0.3s !important;
    -o-transition: -o-transform 0.3s, opacity 0.3s !important;
    transition: transform 0.3s, opacity 0.3s !important;
}
#lleo_dialog.lleo_collapse {
    opacity: 0 !important;
    -webkit-transform: scale(0.25, 0.1) translate(-550px, 100px);
    -moz-transform: scale(0.25, 0.1) translate(-550px, 100px);
    -ms-transform: scale(0.25, 0.1) translate(-550px, 100px);
    -o-transform: scale(0.25, 0.1) translate(-550px, 100px);
    transform: scale(0.25, 0.1) translate(-550px, 100px);
    -webkit-transition: -webkit-transform 0.4s, opacity 0.4s !important;
    -moz-transition: -moz-transform 0.4s, opacity 0.4s !important;
    -ms-transition: -ms-transform 0.4s, opacity 0.4s !important;
    -o-transition: -o-transform 0.4s, opacity 0.4s !important;
    transition: transform 0.4s, opacity 0.4s !important;
}
#lleo_dialog input::-webkit-input-placeholder {
    color: #aaa !important;
}
#lleo_dialog .lleo_has_pic #lleo_word {
	margin-right: 80px !important;
}
#lleo_dialog #lleo_translationsContainer1 {
	position: relative !important;
}
#lleo_dialog #lleo_translationsContainer2 {
	padding: 7px 0 0 !important;
	vertical-align: middle !important;
}
#lleo_dialog #lleo_word {
    color: #000 !important;
    margin: 0 5px 2px 0 !important;
    /*float: left !important;*/
}
#lleo_dialog .lleo_has_sound #lleo_word {
    margin-left: 30px !important;
}
#lleo_dialog #lleo_text {
    font-weight: bold !important;
    color: #d56e00 !important;
    text-decoration: none !important;
    cursor: default !important;
}
/*
#lleo_dialog #lleo_text.lleo_known {
    cursor: pointer !important;
    text-decoration: underline !important;
}
*/
/*#lleo_dialog #lleo_closeBtn {
    position: absolute !important;
    right: 6px !important;
    top: 5px !important;
    line-height: 1px !important;
    text-decoration: none !important;
    font-weight: bold !important;
    font-size: 0 !important;
    color: #aaa !important;
    display: block !important;
	z-index: 9999999999 !important;
	width: 7px !important;
	height: 7px !important;
	padding: 0 !important;
	margin: 0 !important;
}*/

#lleo_dialog #lleo_optionsBtn {
    position: absolute !important; 
    right: 3px !important;
    top: 5px !important;
    line-height: 1px !important;
    text-decoration: none !important;
    font-weight: bold !important;
    font-size: 13px !important;
    color: #aaa !important;
    padding: 2px !important;
	display: none;
}
    #lleo_dialog.lleo_optionsShown #lleo_optionsBtn {
        display: block !important;
    }
    #lleo_dialog #lleo_optionsBtn img {
        width: 12px !important;
        height: 12px !important;
    }
#lleo_dialog #lleo_sound {
    float: left !important;
    width: 16px !important;
    height: 16px !important;
    margin-left: 9px !important;
    margin-right: 3px !important;
    background: 0 0 no-repeat !important;
    cursor: pointer !important;
    display: none !important;
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAfNJREFUeNq0U01IVFEU/u57Oo5WhBRIBBptykWLYBa2soWiEKQQEbrSFsGbVRQKQc2iFqGitXqvjQxCoCJCqyI0aBUtZILaJNUuYWYWo8HovJ/707nP94bnz0rxwvfOuefd8517fi5TSuE4i50YwZ3l37ZhNlpgzFkaaM/G9sHF1YskNrT+7l4PjMOcb78t2JL71uxgB+2UlfxHTtq5N94fIOh/88kWgWfl73ZCSQkpeGg3H091JY6dI2S00qA/N3KO3dDUYhFgEmZGurG+w9FqApIHsVM7kaTF9Nhn0r8Q7hPWQgIRuNaH3AMUA4W/Lkdh04cpFS43G0TgxQTvCdMETVAk3KynIHwXZU/ge8XDt7KH9bKLjU0P2zVO5LsEpSejVRJ9UR18EtfqKegovs9R3Q6w9c/H1o4Aa2Jwm1lIvn9RJ4w9RdRRzqcYrpwycCll4Cy1lnkS3Bc6vfBg28v8aRIfI78zhB/1GygROH3jLyyzMQ0zlUZuZBSlKkeLoegGtTjYLcJ8pF+NakHOFC2J6w+f25mxSfWrWFF/ShXVPTGvtN14NNkVnxlYWJkgZEL7/vwKr55lKSVnaGYWkuYgrgG172uUv47+U7fw0EHaJXmalUQy/HqO6lBzEsVjJC4Q8kd6TETQpjuaGOvjv8b/AgwA/ij1XMx58NIAAAAASUVORK5CYII=) !important;
}
#lleo_dialog .lleo_has_sound #lleo_sound {
    display: block !important;
}

#lleo_dialog #lleo_soundWave {
    border: solid 5px #4495CC !important;
    border-radius: 5px !important;
    position: absolute !important;
    left: -5px !important;
    top: -5px !important;
    right: -5px !important;
    bottom: -5px !important;
    z-index: 0 !important;
    opacity: 0.9 !important;
    display: none !important;
}
    #lleo_dialog #lleo_soundWave.lleo_beforePlaying {
        display: block !important;
    }
    #lleo_dialog #lleo_soundWave.lleo_playing {
        opacity: 0 !important;
        border-width: 20px !important;
        border-radius: 30px !important;

        -webkit-transform: scale(1.07,1.1) !important;
        -moz-transform: scale(1.07,1.1) !important;
        -ms-transform: scale(1.07,1.1) !important;
        transform: scale(1.07,1.1) !important;

        -webkit-transition: all 0.6s !important;
        -moz-transition: all 0.6s !important;
        -ms-transition: all 0.6s !important;
        transition: all 0.6s !important;
    }


#lleo_dialog #lleo_picOuter {
    position: absolute !important;
    float: right !important;
    top: 4px;
    right: 5px;
    z-index: 9 !important;
    display: none !important;
    width: 100px !important;
}
    #lleo_dialog.lleo_optionsShown #lleo_picOuter {
        right: 25px;
    }
#lleo_dialog .lleo_has_pic #lleo_picOuter {
    display: block !important;
}
    #lleo_dialog #lleo_picOuter:hover {
        width: auto !important;
        z-index: 11 !important;
    }
#lleo_dialog #lleo_pic,
#lleo_dialog #lleo_picBig {
    position: absolute !important;
    top: 0 !important;
    right: 0 !important;
    border: solid 2px #fff !important;
    -webkit-border-radius: 2px !important;
    -moz-border-radius: 2px !important;
	border-radius: 2px !important;
    z-index: 1 !important;
}
#lleo_dialog #lleo_pic {
	position: relative !important;
    border: none !important;
	width: 30px !important;
}
#lleo_dialog #lleo_picBig {
    box-shadow: -1px 2px 4px rgba(0,0,0,0.3);
    z-index: 2 !important;
    opacity: 0 !important;
    visibility: hidden !important;
}
    #lleo_dialog #lleo_picOuter:hover #lleo_picBig {
        visibility: visible !important;
        opacity: 1 !important;
        -webkit-transition: opacity 0.3s !important;
        -webkit-transition-delay: 0.3s !important;
    }
#lleo_dialog #lleo_transcription {
    margin: 0 80px 4px 31px !important;
    color: #aaaaaa !important;
}
#lleo_dialog .lleo_no_trans {
    color: #aaa !important;
}

#lleo_dialog .ll-translation-counter {
	float: right !important;
    font-size: 11px !important;
    color: #aaa !important;
    padding: 2px 2px 1px 10px !important;
}

#lleo_dialog .ll-translation-text {
	float: left !important;
	/*width: 80% !important;*/
}

#lleo_dialog #lleo_trans a {
    color: #3F669F !important;
    text-decoration: none !important;
    text-overflow: ellipsis !important;
    padding: 1px 4px !important;
    overflow: hidden !important;
    float: left !important;
    width: 320px !important;
}

#lleo_dialog .ll-translation-item {
    color: #3F669F !important;
    border: solid 1px #fff !important;
    padding: 3px !important;
    width: 100% !important;
    float: left !important;
	-moz-border-radius: 2px !important;
	-webkit-border-radius: 2px !important;
	border-radius: 2px !important;
}

#lleo_dialog .ll-translation-item:hover {
	border: solid 1px #9FC2C9 !important;
    background: #EDF4F6 !important;
	cursor: pointer !important;
}
#lleo_dialog .ll-translation-item:hover .ll-translation-counter {
	color: #83a0a6 !important;
}

#lleo_dialog .ll-translation-marker {
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAWSURBVBhXY7RPm/+fAQkwIXNAbMICAJQ8AkvqWg/SAAAAAElFTkSuQmCC) !important;
    display: inline-block !important;
    width: 4px !important;
    height: 4px !important;
    margin: 7px 5px 2px 2px !important;
    float: left !important;
}

#lleo_dialog #lleo_icons {
    color: #aaa !important;
    font-size: 11px !important;
    background: #f8f8f8 !important;
    padding: 10px 10px 10px 16px !important;
}
#lleo_icons a {
    display: inline-block !important;
    width: 16px !important;
    height: 16px !important;
    margin: 0 10px -4px 3px !important;
    text-decoration: none !important;
    opacity: 0.5 !important;
    background: url(data:image/png;base64,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) !important;
}
#lleo_icons a:hover {
    opacity: 1 !important;
}
#lleo_icons a.lleo_google     {background-position:-34px 0 !important;}
#lleo_icons a.lleo_multitran  {background-position:-64px 0 !important;}
#lleo_icons a.lleo_lingvo     {background-position:-51px 0 !important; width: 12px !important;}
#lleo_icons a.lleo_dict       {background-position:-17px 0 !important;}
#lleo_icons a.lleo_linguee    {background-position:-81px 0 !important;}
#lleo_icons a.lleo_michaelis  {background-position:-98px 0 !important;}

#lleo_dialog #lleo_contextContainer {
    margin: 0 !important;
    padding: 3px 15px 8px 10px !important;
    background: #eee !important;
    background: -webkit-gradient(linear, left top, left bottom, from(#fff), to(#eee)) !important;
    background: -moz-linear-gradient(-90deg, #fff, #eee) !important;
    border-bottom: solid 1px #ddd !important;
    border-top-left-radius: 3px !important;
    border-top-right-radius: 3px !important;
    display: none !important;
    overflow: hidden !important;
}
#lleo_dialog .lleo_has_context #lleo_contextContainer {
    display: block !important;
}
#lleo_dialog #lleo_context {
    color: #444 !important;
    text-shadow: 1px 1px 0 #f4f4f4 !important;
    line-height: 12px !important;
    font-size: 11px !important;
    margin-left: 2px !important;
}
#lleo_dialog #lleo_context b {
    line-height: 12px !important;
    color: #000 !important;
    font-weight: bold !important;
    font-size: 11px !important;
}
/*#lleo_dialog #lleo_gBrand {
    color: #aaa !important;
    font-size: 10px !important;
    *//*padding-right: 52px !important;*//*
    padding-bottom: 14px !important;
    margin: -3px 4px 0 4px !important;
    background: left bottom url(data:image/png;base64,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) no-repeat !important;
    display: inline-block !important;
    float: right !important;
}
#lleo_dialog #lleo_gBrand.hidden {
    display: none !important;
}*/
#lleo_dialog #lleo_translateContextLink {
    color: #444 !important;
    text-shadow: 1px 1px 0 #f4f4f4 !important;
    background: -webkit-gradient(linear, left top, left bottom, from(#f4f4f4), to(#ddd)) !important;
    background: -moz-linear-gradient(-90deg, #f4f4f4, #ddd) !important;
    border: solid 1px !important;
    box-shadow: 1px 1px 0 #f6f6f6 !important;
    border-color: #999 #aaa #aaa #999 !important;
    -moz-border-radius: 2px !important;
	-webkit-border-radius: 2px !important;
	border-radius: 2px !important;
    padding: 0 3px !important;
    font-size: 11px !important;
    text-decoration: none !important;
    margin: 1px 5px 0 !important;
    display: inline-block !important;
    white-space: nowrap !important;
}
#lleo_dialog #lleo_translateContextLink:hover {
    background: #f8f8f8 !important;
}
#lleo_dialog #lleo_translateContextLink.hidden {
    visibility: hidden !important;
}

#lleo_dialog #lleo_setTransForm {
    display: block !important;
    margin-top: 3px !important;
    padding-top: 5px !important;
    /* Set position and background because the form might be overlapped by an image when no translations */
    position: relative !important;
    background: #fff !important;
    z-index: 10 !important;
    padding-bottom: 10px !important;
    padding-left: 16px !important;
}
#lleo_dialog .lleo-custom-translation {
    padding: 4px 5px !important;
    border: solid 1px #ddd !important;
	border-radius: 2px !important;
    width: 90% !important;
    min-width: 270px !important;
    background: -webkit-gradient(linear, 0 0, 0 20, from(#f1f1f1), to(#fff)) !important;
    background: -moz-linear-gradient(-90deg, #f1f1f1, #fff) !important;
	font: normal 13px Arial, Helvetica !important;
	line-height: 15px !important;
}
#lleo_dialog .lleo-custom-translation:hover {
    border: solid 1px #aaa !important;
}
#lleo_dialog .lleo-custom-translation:focus {
    background: #FFFEC9 !important;
}

#lleo_dialog *.hidden {
    display: none !important;
}

#lleo_dialog .infinitive{
    color: #D56E00 !important;
    text-decoration: none;
    border-bottom: 1px dotted #D56E00 !important;
}
#lleo_dialog .infinitive:hover{
    border: none !important;
}

#lleo_dialog .lleo_separator {
    height: 1px !important;
    background: #eee;
    margin-top: 10px !important;
    background: -webkit-linear-gradient(left, rgba(255,255,255,1) 0%,#eee 8%,rgba(255,255,255,1) 80%) !important;
    background: -moz-linear-gradient(left, rgba(255,255,255,1) 0%, #eee 8%, rgba(255,255,255,1) 80%) !important;
    background: -ms-linear-gradient(left, rgba(255,255,255,1) 0%,#eee 8%,rgba(255,255,255,1) 80%) !important;
    background: linear-gradient(to right, rgba(255,255,255,1) 0%,#eee 8%,rgba(255,255,255,1) 80%) !important;
}
#lleo_dialog #lleo_trans {
    /*border-top: 1px solid #eeeeee !important;*/
    padding: 5px 30px 0 14px !important;
    zoom: 1;
}

#lleo_dialog .lleo_clearfix {
	display: block !important;
	clear: both !important;
	visibility: hidden !important;
	height: 0 !important;
	font-size: 0 !important;
}


#lleo_dialog #lleo_picOuter table {
    width: 44px !important;
    position: absolute !important;
    right: 0 !important;
    top: 0 !important;
    vertical-align: middle !important;
}

#lleo_dialog #lleo_picOuter td {
    width: 38px !important;
    height: 38px !important;
    /*border: 1px solid #eeeeee !important;*/
    vertical-align: middle !important;
    text-align: center !important;
}

#lleo_dialog #lleo_picOuter td div {
	height: 38px !important;
	overflow: hidden !important;
}

#lleo_dialog .lleo_empty {
    margin: 0 5px 7px !important;
}

#lleo_youtubeExportBtn {
    margin-left: 10px;
    height: 24px;
}
    #lleo_youtubeExportBtn i {
        display: inline-block;
        width: 16px;
        height: 16px;
        background: 0 0 url(https://d144fqpiyasmrr.cloudfront.net/plugins/all/images/i16.png) !important;
    }
    #lleo_youtubeExportBtn .yt-uix-button-content {
        font-size: 12px;
        line-height: 2px;
    }


/*** Parsed Lyrics Content *****************************/

.lleo_lyrics tran {
    background: transparent !important;
    border-radius: 2px !important;
    text-shadow: none !important;
    cursor: pointer !important;
}
    .lleo_lyrics tran:hover {
        color: #fff !important;
        background: #C77213 !important;
        -webkit-transition: all 0.1s !important;
        -moz-transition: all 0.1s !important;
        -ms-transition: all 0.1s !important;
        -o-transition: all 0.1s !important;
        transition: all 0.1s !important;
    }

.lleo_songName {
    border: solid 1px #ffd47c;
    background: #fff1c2;
    border-radius: 2px;
}

.lleo_hidden_iframe {
    visibility: hidden;
}</style></head>

  <body style="display: none" data-gr-c-s-loaded="true" class="loaded">

    <section class="slides layout-widescreen">
      
      <article>
        <h1>Program your next server in Go</h1>
        
        
        
          <div class="presenter">
            
  
  <p>
    Sameer Ajmani
  </p>
  

  
  <p>
    Manager, Go team
  </p>
  

  
  <p>
    Google
  </p>
  

          </div>
        
      </article>
      
  
  
      <article>
      
        <h3>Video</h3>
        
  
  <p>
    This talk was presented at the <a href="http://applicative.acm.org/" target="_blank">ACM Applicative</a> conference in New York City on June 1, 2016.
  </p>
  
<p class="link"><a href="https://www.youtube.com/watch?v=5bYO60-qYOI" target="_blank">Watch the talk on YouTube</a></p>
      
      </article>
  
  
  
      <article class="">
      
        <h3>Outline</h3>
        
  
  <p>
    1. What is Go, and who uses it?
<br>

    2. Comparing Go and other languages
<br>

    3. Code examples
<br>

    4. Concurrency
<br>

    5. Getting started
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>What is Go?</h3>
        
  
  <p>
    "Go is an open source programming language that makes it easy to build simple, reliable, and efficient software."
  </p>
  
<p class="link"><a href="http://golang.org/" target="_blank">golang.org</a></p>
      
      </article>
  
  
  
      <article class="">
      
        <h3>History</h3>
        
  
  <p>
    Design began in late 2007.
  </p>
  

  <ul>
  
    <li>Robert Griesemer, Rob Pike, and Ken Thompson.</li>
  
    <li>Ian Lance Taylor and Russ Cox.</li>
  
  </ul>

  
  <p>
    Open source since 2009 with a very active community.
  </p>
  

  
  <p>
    Language stable as of Go 1, early 2012.
  </p>
  

  
  <p>
    Go 1.7 is coming this August.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Why Go?</h3>
        
  
  <p>
    Go is an answer to problems of scale at Google.
  </p>
  

<div class="image">
  <img src="./Program your next server in Go_files/datacenter.jpg" height="500">
</div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>System Scale</h3>
        
  <ul>
  
    <li>designed to scale to 10⁶⁺ machines</li>
  
    <li>everyday jobs run on 1000s of machines</li>
  
    <li>jobs coordinate, interact with others in the system</li>
  
    <li>lots going on at once</li>
  
  </ul>

  
  <p>
    Solution: great support for concurrency
  </p>
  

<div class="image">
  <img src="./Program your next server in Go_files/gophercomplex6.jpg">
</div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>A Second Problem: Engineering Scale</h3>
        
  
  <p>
    In 2011:
  </p>
  

  <ul>
  
    <li>5000+ developers across 40+ offices</li>
  
    <li>20+ changes per minute</li>
  
    <li>50% of code base changes every month</li>
  
    <li>50 million test cases executed per day</li>
  
    <li>single code tree</li>
  
  </ul>

  
  <p>
    Solution: design the language for large code bases
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Who uses Go at Google?</h3>
        
  
  <p>
    Hundreds of projects. Thousands of Go programmers. Millions of lines of Go code.
  </p>
  

  
  <p>
    Public examples:
  </p>
  

  <ul>
  
    <li>Flywheel: SPDY proxy for Chrome on mobile devices</li>
  
  </ul>

<div class="image">
  <img src="./Program your next server in Go_files/spdy.png" height="400">
</div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Who uses Go at Google?</h3>
        
  
  <p>
    Hundreds of projects. Thousands of Go programmers. Millions of lines of Go code.
  </p>
  

  
  <p>
    Public examples:
  </p>
  

  <ul>
  
    <li>Flywheel: SPDY proxy for Chrome on mobile devices</li>
  
    <li>dl.google.com: Download server for Chrome, ChromeOS, Android SDK, Earth, etc.</li>
  
    <li>Vitess: YouTube MySQL balancer</li>
  
    <li>Seesaw: Linux Virtual Server (LVS) based load balancer</li>
  
    <li>Lingo: Logs analysis in Go, migrated from Sawzall</li>
  
  </ul>

  
  <p>
    The target is networked servers, but Go is a great general-purpose language.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Who uses Go besides Google?</h3>
        <p class="link"><a href="http://golang.org/wiki/GoUsers" target="_blank">golang.org/wiki/GoUsers</a></p>
  
  <p>
    Aerospike, BBC Worldwide, Bitbucket, Booking.com, Core OS, Datadog, Digital Ocean, Docker, Dropbox, Facebook, Getty Images, GitHub, GOV.UK, Heroku, IBM, Intel, InfluxDB, Iron.io, Kubernetes, Medium, MongoDB, Mozilla services, Netflix, New York Times, pool.ntp.org, Rackspace, Shutterfly, SmugMug, SoundCloud, SpaceX, Square, Stack Exchange, Thomson Reuters Eikon, Tumblr, Twitch, Twitter, Uber, VMWare ...
  </p>
  

<div class="image">
  <img src="./Program your next server in Go_files/bus.jpg" height="300">
</div>

      
      </article>
  
  
  
      <article class="far-past">
      
        <h2>Comparing Go and other languages</h2>
      
      </article>
  
  
  
      <article class="past">
      
        <h3>"Go: 90% Perfect, 100% of the time" -bradfitz, 2014</h3>
        
<div class="image">
  <img src="./Program your next server in Go_files/funfast.svg">
</div>

      
      </article>
  
  
  
      <article class="current">
      
        <h3>Go has much in common with Java</h3>
        
  <ul>
  
    <li>C family (imperative, braces)</li>
  
    <li>Statically typed</li>
  
    <li>Garbage collected</li>
  
    <li>Memory safe (nil references, runtime bounds checks)</li>
  
    <li>Variables are always initialized (zero/nil/false)</li>
  
    <li>Methods</li>
  
    <li>Interfaces</li>
  
    <li>Type assertions (<code>instanceof</code>)</li>
  
    <li>Reflection</li>
  
  </ul>

      
      </article>
  
  
  
      <article class="next">
      
        <h3>Go differs from Java in several ways</h3>
        
  
  <p>
    Fast, efficient for computers:
  </p>
  

  <ul>
  
    <li>Programs compile to machine code.  There's no VM.</li>
  
    <li>Control over memory layout, fewer indirections</li>
  
  </ul>

  
  <p>
    Fun, fast for humans:
  </p>
  

  <ul>
  
    <li>Simple, concise syntax</li>
  
    <li>Statically linked binaries</li>
  
    <li>Function values and lexical closures</li>
  
    <li>Built-in strings (UTF-8)</li>
  
    <li>Built-in generic maps and arrays/slices</li>
  
    <li>Built-in concurrency</li>
  
  </ul>

      
      </article>
  
  
  
      <article class="far-next">
      
        <h3>Go intentionally leaves out many features</h3>
        
  <ul>
  
    <li>No classes</li>
  
    <li>No inheritance</li>
  
    <li>No constructors</li>
  
    <li>No <code>final</code></li>
  
    <li>No exceptions</li>
  
    <li>No annotations</li>
  
    <li>No user-defined generics</li>
  
  </ul>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Why does Go leave out those features?</h3>
        
  
  <p>
    Clarity is critical.
  </p>
  

  
  <p>
    When reading code, it should be clear what the program will do.
  </p>
  

  
  <p>
    When writing code, it should be clear how to make the program do what you want.
  </p>
  

  
  <p>
    Sometimes this means writing out a loop instead of invoking an obscure function.
  </p>
  

  
  <p>
    (Don't DRY out.)
  </p>
  

  
  <p>
    For more background on design:
  </p>
  

  <ul>
  
    <li><a href="http://commandcenter.blogspot.com/2012/06/less-is-exponentially-more.html" target="_blank">Less is exponentially more (Pike, 2012)</a></li>
  
    <li><a href="http://talks.golang.org/2012/splash.article" target="_blank">Go at Google: Language Design in the Service of Software Engineering (Pike, 2012)</a></li>
  
  </ul>

      
      </article>
  
  
  
      <article class="">
      
        <h2>Code examples</h2>
      
      </article>
  
  
  
      <article class="">
      
        <h3>Go looks familiar</h3>
        
  
  <p>
    Hello, world!
  </p>
  

  <div class="code playground" contenteditable="true" spellcheck="false">


<pre><span num="3">package main</span>
<span num="4"></span>
<span num="5">import "fmt"</span>
<span num="6"></span>
<span num="7">func main() {</span>
<span num="8">    fmt.Println("Hello, 世界!")</span>
<span num="9">}</span>
</pre>


</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Hello, web server</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false">


<pre><span num="3">package main</span>
<span num="4"></span>
<span num="5">import (</span>
<span num="6">    "fmt"</span>
<span num="7">    "log"</span>
<span num="8">    "net/http"</span>
<span num="9">)</span>
<span num="10"></span>
<span num="11">func main() {</span>
<span num="12">    <b>http.HandleFunc("/hello", handleHello)</b></span>
<span num="13">    fmt.Println("serving on http://localhost:7777/hello")</span>
<span num="14">    log.Fatal(http.ListenAndServe("localhost:7777", nil))</span>
<span num="15">}</span>
<span num="16"></span>
<span num="17">func handleHello(w http.ResponseWriter, req *http.Request) {</span>
<span num="18">    log.Println("serving", req.URL)</span>
<span num="19">    <b>fmt.Fprintln(w, "Hello, 世界!")</b></span>
<span num="20">}</span>
</pre>


</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>

  
  <p>
    Types follow names in declarations.
<br>

    Exported names are Capitalized.  Unexported names are not.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Example: Google Search frontend</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false">
<pre style="display: none"><span>// +build OMIT

// The server program issues Google search requests. It serves on port 8080.
//
// The /search endpoint accepts these query params:
//   q=the Google search query
//
// For example, http://localhost:8080/search?q=golang serves the first
// few Google search results for "golang".
package main

import (
	"encoding/json"
	"fmt"
	"html/template"
	"log"
	"net/http"
	"time"

	"golang.org/x/talks/2016/applicative/google"
)

</span></pre>

<pre><span num="23">func main() {</span>
<span num="24">    <b>http.HandleFunc("/search", handleSearch)</b></span>
<span num="25">    fmt.Println("serving on http://localhost:8080/search")</span>
<span num="26">    log.Fatal(http.ListenAndServe("localhost:8080", nil))</span>
<span num="27">}</span>
<span num="28"></span>
<span num="29">// handleSearch handles URLs like "/search?q=golang" by running a</span>
<span num="30">// Google search for "golang" and writing the results as HTML to w.</span>
<span num="31">// The query parameter "output" selects alternate output formats:</span>
<span num="32">// "json" for JSON, "prettyjson" for human-readable JSON.</span>
<span num="33"><b>func handleSearch(w http.ResponseWriter, req *http.Request) {</b></span>
</pre>

<pre style="display: none"><span>	log.Println("serving", req.URL)

	// Check the search query.
	query := req.FormValue("q") // HL
	if query == "" {
		http.Error(w, `missing "q" URL parameter`, http.StatusBadRequest)
		return
	}
	// ENDQUERY OMIT

	// Run the Google search.
	start := time.Now()
	results, err := google.Search(query) // HL
	elapsed := time.Since(start)
	if err != nil {
		http.Error(w, err.Error(), http.StatusInternalServerError)
		return
	}
	// ENDSEARCH OMIT

	// Create the structured response.
	type response struct {
		Results []google.Result
		Elapsed time.Duration
	}
	resp := response{results, elapsed} // HL
	// ENDRESPONSE OMIT

	// Render the response.
	switch req.FormValue("output") {
	case "json":
		err = json.NewEncoder(w).Encode(resp) // HL
	case "prettyjson":
		var b []byte
		b, err = json.MarshalIndent(resp, "", "  ") // HL
		if err == nil {
			_, err = w.Write(b)
		}
	default: // HTML
		err = responseTemplate.Execute(w, resp) // HL
	}
	// ENDRENDER OMIT
	if err != nil {
		log.Print(err)
		return
	}
}

var responseTemplate = template.Must(template.New("results").Parse(`
&lt;html&gt;
&lt;head/&gt;
&lt;body&gt;
  &lt;ol&gt;
  {{range .Results}}
    &lt;li&gt;{{.Title}} - &lt;a href="{{.URL}}"&gt;{{.URL}}&lt;/a&gt;&lt;/li&gt;
  {{end}}
  &lt;/ol&gt;
  &lt;p&gt;{{len .Results}} results in {{.Elapsed}}&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;
`))
</span></pre>
</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>
<p class="link"><a href="http://localhost:8080/search" target="_blank">localhost:8080/search</a></p><p class="link"><a href="http://localhost:8080/search?q=golang" target="_blank">localhost:8080/search?q=golang</a></p><p class="link"><a href="http://localhost:8080/search?q=golang&amp;output=json" target="_blank">localhost:8080/search?q=golang&amp;output=json</a></p><p class="link"><a href="http://localhost:8080/search?q=golang&amp;output=prettyjson" target="_blank">localhost:8080/search?q=golang&amp;output=prettyjson</a></p>
      
      </article>
  
  
  
      <article class="">
      
        <h3>Validate the query</h3>
        
  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="33"><b>func handleSearch(w http.ResponseWriter, req *http.Request) {</b></span>
<span num="34">    log.Println("serving", req.URL)</span>
<span num="35"></span>
<span num="36">    // Check the search query.</span>
<span num="37">    <b>query := req.FormValue("q")</b></span>
<span num="38">    if query == "" {</span>
<span num="39">        http.Error(w, `missing "q" URL parameter`, http.StatusBadRequest)</span>
<span num="40">        return</span>
<span num="41">    }</span>
</pre>


</div>

  
  <p>
    <code>FormValue</code> is a method on the type <code>*http.Request</code>:
  </p>
  

  
  <div class="code"><pre>package http
type Request struct {...}
func (r *Request) FormValue(key string) string {...}</pre></div>
  

  
  <p>
    <code>query := req.FormValue("q")</code> initializes a new variable <code>query</code> with
<br>

    the type of the expression on the right hand side, <code>string</code>.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Fetch the search results</h3>
        
  
  <div class="code"><pre>import "golang.org/x/talks/2016/applicative/google"</pre></div>
  

  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="44">    // Run the Google search.</span>
<span num="45">    start := time.Now()</span>
<span num="46">    <b>results, err := google.Search(query)</b></span>
<span num="47">    elapsed := time.Since(start)</span>
<span num="48">    if err != nil {</span>
<span num="49">        http.Error(w, err.Error(), http.StatusInternalServerError)</span>
<span num="50">        return</span>
<span num="51">    }</span>
</pre>


</div>

  
  <p>
    <code>Search</code> returns two values, a slice of results and an error.
<br>

    The results are valid only if the error is nil.
  </p>
  

  
  <div class="code"><pre>type error interface {
    Error() string // a useful human-readable error message
}</pre></div>
  

  
  <p>
    Errors may contain additional information, accessed via type assertions.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Structure the search results</h3>
        
  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="54">    // Create the structured response.</span>
<span num="55">    type response struct {</span>
<span num="56">        Results []google.Result</span>
<span num="57">        Elapsed time.Duration</span>
<span num="58">    }</span>
<span num="59">    <b>resp := response{results, elapsed}</b></span>
</pre>


</div>

  
  <p>
    The <code>response</code> type is defined locally within <code>handleSearch</code>.
  </p>
  

  
  <p>
    The <code>google.Result</code> type is exported from package <code>google</code>:
  </p>
  

  
  <div class="code"><pre>package google

type Result struct { Title, URL string }</pre></div>
  

  
  <p>
    The <code>resp</code> variable is initialized to a <code>response</code> value using a composite struct literal.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Render the search results</h3>
        
  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="62">    // Render the response.</span>
<span num="63">    switch req.FormValue("output") {</span>
<span num="64">    case "json":</span>
<span num="65">        <b>err = json.NewEncoder(w).Encode(resp)</b></span>
<span num="66">    case "prettyjson":</span>
<span num="67">        var b []byte</span>
<span num="68">        <b>b, err = json.MarshalIndent(resp, "", "  ")</b></span>
<span num="69">        if err == nil {</span>
<span num="70">            _, err = w.Write(b)</span>
<span num="71">        }</span>
<span num="72">    default: // HTML</span>
<span num="73">        <b>err = responseTemplate.Execute(w, resp)</b></span>
<span num="74">    }</span>
</pre>


</div>

  
  <p>
    Each case writes bytes to an <code>io.Writer</code>:
  </p>
  

  
  <div class="code"><pre>type Writer interface {
        Write(p []byte) (n int, err error)
}</pre></div>
  

  
  <p>
    <code>http.ResponseWriter</code> implements the <code>io.Writer</code> interface.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>HTML templates operate on Go values</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false">
<pre style="display: none"><span>// +build OMIT

// The server program issues Google search requests. It serves on port 8080.
//
// The /search endpoint accepts these query params:
//   q=the Google search query
//
// For example, http://localhost:8080/search?q=golang serves the first
// few Google search results for "golang".
package main

import (
	"encoding/json"
	"fmt"
	"html/template"
	"log"
	"net/http"
	"time"

	"golang.org/x/talks/2016/applicative/google"
)

func main() {
	http.HandleFunc("/search", handleSearch) // HL
	fmt.Println("serving on http://localhost:8080/search")
	log.Fatal(http.ListenAndServe("localhost:8080", nil))
}

// handleSearch handles URLs like "/search?q=golang" by running a
// Google search for "golang" and writing the results as HTML to w.
// The query parameter "output" selects alternate output formats:
// "json" for JSON, "prettyjson" for human-readable JSON.
func handleSearch(w http.ResponseWriter, req *http.Request) { // HL
	log.Println("serving", req.URL)

	// Check the search query.
	query := req.FormValue("q") // HL
	if query == "" {
		http.Error(w, `missing "q" URL parameter`, http.StatusBadRequest)
		return
	}
	// ENDQUERY OMIT

	// Run the Google search.
	start := time.Now()
	results, err := google.Search(query) // HL
	elapsed := time.Since(start)
	if err != nil {
		http.Error(w, err.Error(), http.StatusInternalServerError)
		return
	}
	// ENDSEARCH OMIT

	// Create the structured response.
	type response struct {
		Results []google.Result
		Elapsed time.Duration
	}
	resp := response{results, elapsed} // HL
	// ENDRESPONSE OMIT

	// Render the response.
	switch req.FormValue("output") {
	case "json":
		err = json.NewEncoder(w).Encode(resp) // HL
	case "prettyjson":
		var b []byte
		b, err = json.MarshalIndent(resp, "", "  ") // HL
		if err == nil {
			_, err = w.Write(b)
		}
	default: // HTML
		err = responseTemplate.Execute(w, resp) // HL
	}
	// ENDRENDER OMIT
	if err != nil {
		log.Print(err)
		return
	}
}

</span></pre>

<pre><span num="82">var responseTemplate = template.Must(template.New("results").Parse(`</span>
<span num="83">&lt;html&gt;</span>
<span num="84">&lt;head/&gt;</span>
<span num="85">&lt;body&gt;</span>
<span num="86">  &lt;ol&gt;</span>
<span num="87">  {{range .Results}}</span>
<span num="88">    &lt;li&gt;{{.Title}} - &lt;a href="{{.URL}}"&gt;{{.URL}}&lt;/a&gt;&lt;/li&gt;</span>
<span num="89">  {{end}}</span>
<span num="90">  &lt;/ol&gt;</span>
<span num="91">  &lt;p&gt;{{len .Results}} results in {{.Elapsed}}&lt;/p&gt;</span>
<span num="92">&lt;/body&gt;</span>
<span num="93">&lt;/html&gt;</span>
<span num="94">`))</span>
</pre>


</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>

<div class="image">
  <img src="./Program your next server in Go_files/frontend-screenshot.png" width="900">
</div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>That's it for the search handler</h3>
        
  
  <p>
    All the packages are from the standard library:
  </p>
  

  
  <div class="code"><pre>import (
    "encoding/json"
    "fmt"
    "html/template"
    "log"
    "net/http"
    "time"
)</pre></div>
  

  
  <p>
    Go servers scale well: each request runs in its own <i>goroutine</i>.
  </p>
  

  
  <p>
    Let's talk about concurrency.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Communicating Sequential Processes (Hoare, 1978)</h3>
        
  
  <p>
    Concurrent programs are structured as independent processes that
<br>

    execute sequentially and communicate by passing messages.
  </p>
  

  
  <p>
    Sequential execution is easy to understand.  Async callbacks are not.
  </p>
  

  
  <p>
    <b>Go primitives:</b> goroutines, channels, and the <code>select</code> statement.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Goroutines</h3>
        
  
  <p>
    Goroutines are like lightweight threads.
  </p>
  

  
  <p>
    They start with tiny stacks and resize as needed.
  </p>
  

  
  <p>
    Go programs can have hundreds of thousands of them.
  </p>
  

  
  <p>
    Start a goroutine using the <code>go</code> statement:
  </p>
  

  
  <div class="code"><pre>go f(args)</pre></div>
  

  
  <p>
    The Go runtime schedules goroutines onto OS threads.
  </p>
  

  
  <p>
    Blocked goroutines don't use a thread.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Channels</h3>
        
  
  <p>
    Channels provide communication between goroutines.
  </p>
  

  
  <div class="code"><pre>c := make(chan string)

// goroutine 1
c &lt;- "hello!"

// goroutine 2
s := &lt;-c
fmt.Println(s) // "hello!"</pre></div>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Select</h3>
        
  
  <p>
    A <code>select</code> statement blocks until communication can proceed.
  </p>
  

  
  <div class="code"><pre>select {
case x := &lt;-in:
  fmt.Println("received", x)
case out &lt;- v:
  fmt.Println("sent", v)
}</pre></div>
  

  
  <p>
    Only the selected case runs.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Example: Google Search (backend)</h3>
        
  
  <p>
    Q: What does Google search do?
  </p>
  

  
  <p>
    A: Given a query, return a page of search results (and some ads).
  </p>
  

  
  <p>
    Q: How do we get the search results?
  </p>
  

  
  <p>
    A: Send the query to Web search, Image search, YouTube, Maps, News, etc., then mix the results.
  </p>
  

  
  <p>
    How do we implement this?
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Google Search: A fake framework</h3>
        
  
  <p>
    We can simulate a back end search with a random timeout up to 100ms.
  </p>
  

  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="10">var (</span>
<span num="11">    Web   = FakeSearch("web", "The Go Programming Language", "http://golang.org")</span>
<span num="12">    Image = FakeSearch("image", "The Go gopher", "https://blog.golang.org/gopher/gopher.png")</span>
<span num="13">    Video = FakeSearch("video", "Concurrency is not Parallelism", "https://www.youtube.com/watch?v=cN_DpYBzKso")</span>
<span num="14">)</span>
<span num="15"></span>
<span num="16"><b>type SearchFunc func(query string) Result</b></span>
<span num="17"></span>
<span num="18">func FakeSearch(kind, title, url string) SearchFunc {</span>
<span num="19">    return func(query string) Result {</span>
<span num="20">        <b>time.Sleep(time.Duration(rand.Intn(100)) * time.Millisecond)</b></span>
<span num="21">        return Result{</span>
<span num="22">            Title: fmt.Sprintf("%s(%q): %s", kind, query, title),</span>
<span num="23">            URL:   url,</span>
<span num="24">        }</span>
<span num="25">    }</span>
<span num="26">}</span>
</pre>


</div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Google Search: Test the framework</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false">
<pre style="display: none"><span>// +build ignore

package main

import (
	"fmt"
	"math/rand"
	"time"

	"golang.org/x/talks/2016/applicative/google"
)

func init() {
	rand.Seed(time.Now().UnixNano())
}

</span></pre>

<pre><span num="17">func main() {</span>
<span num="18">    start := time.Now()</span>
<span num="19">    <b>results, err := google.Search("golang")</b></span>
<span num="20">    elapsed := time.Since(start)</span>
<span num="21">    fmt.Println(results)</span>
<span num="22">    fmt.Println(elapsed, err)</span>
<span num="23">}</span>
</pre>


</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Google Search (serial)</h3>
        
  
  <p>
    The <code>Search</code> function takes a query and returns a slice of <code>Results</code>.
  </p>
  

  
  <p>
    Search invokes the Web, Image, and Video searches serially, then constructs the <code>results</code> slice.
  </p>
  

  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="8">func Search(query string) ([]Result, error) {</span>
<span num="9">    results := []Result{</span>
<span num="10">        Web(query),</span>
<span num="11">        Image(query),</span>
<span num="12">        Video(query),</span>
<span num="13">    }</span>
<span num="14">    return results, nil</span>
<span num="15">}</span>
</pre>


</div>

  <div class="code playground" contenteditable="true" spellcheck="false">
<pre style="display: none"><span>// +build ignore

package main

import (
	"fmt"
	"math/rand"
	"time"

	"golang.org/x/talks/2016/applicative/google"
)

func init() {
	rand.Seed(time.Now().UnixNano())
}

func main() {
	start := time.Now()
</span></pre>

<pre><span num="19">    results, err := google.Search("golang")</span>
</pre>

<pre style="display: none"><span>	elapsed := time.Since(start)
	fmt.Println(results)
	fmt.Println(elapsed, err)
}
</span></pre>
</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Google Search (parallel)</h3>
        
  
  <p>
    Run the Web, Image, and Video searches concurrently, and wait for all results.
  </p>
  

  
  <p>
    The <code>func</code> literals are closures over <code>query</code> and <code>c</code>.
  </p>
  

  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="3">func SearchParallel(query string) ([]Result, error) {</span>
<span num="4">    c := make(chan Result)</span>
<span num="5">    go func() { c &lt;- Web(query) }()</span>
<span num="6">    go func() { c &lt;- Image(query) }()</span>
<span num="7">    go func() { c &lt;- Video(query) }()</span>
<span num="8"></span>
<span num="9">    return []Result{&lt;-c, &lt;-c, &lt;-c}, nil</span>
<span num="10">}</span>
</pre>


</div>

  <div class="code playground" contenteditable="true" spellcheck="false">
<pre style="display: none"><span>package main

import (
	"fmt"
	"math/rand"
	"time"

	"golang.org/x/talks/2016/applicative/google"
)

func init() {
	rand.Seed(time.Now().UnixNano())
}

func main() {
	start := time.Now()
</span></pre>

<pre><span num="17">    results, err := google.SearchParallel("golang")</span>
</pre>

<pre style="display: none"><span>	elapsed := time.Since(start)
	fmt.Println(results)
	fmt.Println(elapsed, err)
}
</span></pre>
</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Google Search (timeout)</h3>
        
  
  <p>
    Don't wait for slow servers.
  </p>
  

  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="8"><b>func SearchTimeout(query string, timeout time.Duration) ([]Result, error) {</b></span>
<span num="9">    <b>timer := time.After(timeout)</b></span>
<span num="10">    c := make(chan Result, 3)</span>
<span num="11">    go func() { c &lt;- Web(query) }()</span>
<span num="12">    go func() { c &lt;- Image(query) }()</span>
<span num="13">    go func() { c &lt;- Video(query) }()</span>
<span num="14"></span>
<span num="15">    var results []Result</span>
<span num="16">    for i := 0; i &lt; 3; i++ {</span>
<span num="17">        <b>select {</b></span>
<span num="18">        <b>case result := &lt;-c:</b></span>
<span num="19">            results = append(results, result)</span>
<span num="20">        <b>case &lt;-timer:</b></span>
<span num="21">            return results, errors.New("timed out")</span>
<span num="22">        }</span>
<span num="23">    }</span>
<span num="24">    return results, nil</span>
</pre>


</div>

  <div class="code playground" contenteditable="true" spellcheck="false">
<pre style="display: none"><span>// +build ignore

package main

import (
	"fmt"
	"math/rand"
	"time"

	"golang.org/x/talks/2016/applicative/google"
)

func init() {
	rand.Seed(time.Now().UnixNano())
}

func main() {
	start := time.Now()
</span></pre>

<pre><span num="19">    <b>results, err := google.SearchTimeout("golang", 80*time.Millisecond)</b></span>
</pre>

<pre style="display: none"><span>	elapsed := time.Since(start)
	fmt.Println(results)
	fmt.Println(elapsed, err)
}
</span></pre>
</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Avoid timeout</h3>
        
  
  <p>
    Q: How do we avoid discarding results from slow servers?
  </p>
  

  
  <p>
    A: Replicate the servers.  Send requests to multiple replicas, and use the first response.
  </p>
  

  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="8"><b>func First(replicas ...SearchFunc) SearchFunc {</b></span>
<span num="9">    return func(query string) Result {</span>
<span num="10">        c := make(chan Result, len(replicas))</span>
<span num="11">        searchReplica := func(i int) {</span>
<span num="12">            c &lt;- replicas[i](query)</span>
<span num="13">        }</span>
<span num="14">        for i := range replicas {</span>
<span num="15">            <b>go searchReplica(i)</b></span>
<span num="16">        }</span>
<span num="17">        return &lt;-c</span>
<span num="18">    }</span>
<span num="19">}</span>
</pre>


</div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Using the First function</h3>
        
  <div class="code playground" contenteditable="true" spellcheck="false">
<pre style="display: none"><span>// +build OMIT

package main

import (
	"fmt"
	"math/rand"
	"time"

	"golang.org/x/talks/2016/applicative/google"
)

func init() {
	rand.Seed(time.Now().UnixNano())
}

// START2 OMIT
</span></pre>

<pre><span num="18">func main() {</span>
<span num="19">    start := time.Now()</span>
<span num="20">    <b>search := google.First(</b></span>
<span num="21">        <b>google.FakeSearch("replica 1", "I'm #1!", ""),</b></span>
<span num="22">        <b>google.FakeSearch("replica 2", "#2 wins!", ""))</b></span>
<span num="23">    result := search("golang")</span>
<span num="24">    elapsed := time.Since(start)</span>
<span num="25">    fmt.Println(result)</span>
<span num="26">    fmt.Println(elapsed)</span>
<span num="27">}</span>
</pre>

<pre style="display: none"><span>
// STOP2 OMIT
</span></pre>
</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Google Search (replicated)</h3>
        
  
  <p>
    Reduce tail latency using replicated back ends.
  </p>
  

  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="22">var (</span>
<span num="23">    <b>replicatedWeb   = First(Web1, Web2)</b></span>
<span num="24">    <b>replicatedImage = First(Image1, Image2)</b></span>
<span num="25">    <b>replicatedVideo = First(Video1, Video2)</b></span>
<span num="26">)</span>
<span num="27"></span>
<span num="28">func SearchReplicated(query string, timeout time.Duration) ([]Result, error) {</span>
<span num="29">    timer := time.After(timeout)</span>
<span num="30">    c := make(chan Result, 3)</span>
<span num="31">    <b>go func() { c &lt;- replicatedWeb(query) }()</b></span>
<span num="32">    <b>go func() { c &lt;- replicatedImage(query) }()</b></span>
<span num="33">    <b>go func() { c &lt;- replicatedVideo(query) }()</b></span>
</pre>


</div>

  <div class="code playground" contenteditable="true" spellcheck="false">
<pre style="display: none"><span>// +build ignore

package main

import (
	"fmt"
	"math/rand"
	"time"

	"golang.org/x/talks/2016/applicative/google"
)

func init() {
	rand.Seed(time.Now().UnixNano())
}

func main() {
	start := time.Now()
</span></pre>

<pre><span num="19">    results, err := google.SearchReplicated("golang", 80*time.Millisecond)</span>
</pre>

<pre style="display: none"><span>	elapsed := time.Since(start)
	fmt.Println(results)
	fmt.Println(elapsed, err)
}
</span></pre>
</div><div class="buttons"><button class="run">Run</button></div><div class="ui-resizable output" style="display: none;"><div class="ui-resizable-handle ui-resizable-n" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-w" style="z-index: 90; display: block;"></div><div class="ui-resizable-handle ui-resizable-nw" style="z-index: 90; display: block;"></div><div class="buttons"><button class="run">Run</button><button class="kill">Kill</button><button class="close">Close</button></div><pre></pre></div>

  
  <p>
    Go functions have simple, synchronous signatures.
<br>

    The use of concurrency is encapsulated.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>What just happened?</h3>
        
  
  <p>
    In just a few simple transformations we used Go's concurrency primitives to convert a
  </p>
  

  <ul>
  
    <li>slow</li>
  
    <li>sequential</li>
  
    <li>failure-sensitive</li>
  
  </ul>

  
  <p>
    program into one that is
  </p>
  

  <ul>
  
    <li>fast</li>
  
    <li>concurrent</li>
  
    <li>replicated</li>
  
    <li>robust.</li>
  
  </ul>

  
  <p>
    No locks. No condition variables. No futures. No callbacks.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h2>Getting started</h2>
      
      </article>
  
  
  
      <article class="">
      
        <h3>You're interested in Go.  What next?</h3>
        
  
  <p>
    Take the Go Tour online.
  </p>
  
<p class="link"><a href="http://tour.golang.org/" target="_blank">tour.golang.org</a></p>
  
  <p>
    Then go deeper ...
  </p>
  
<p class="link"><a href="http://golang.org/wiki/Learn" target="_blank">golang.org/wiki/Learn</a></p>
  
  <p>
    Still interested?
  </p>
  

  
  <p>
    Run a pilot project.
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Run a pilot project</h3>
        
  
  <p>
    Reduces the cost &amp; risks of switching to a new technology,
<br>

    while helping your organization discover the benefits.
  </p>
  

  
  <p>
    1. Choose something small to write in Go (e.g., a microservice)
<br>

    2. Build a prototype with a friend
  </p>
  

  <ul>
  
    <li>Find the libraries you need</li>
  
    <li>Integrate with editors &amp; IDEs</li>
  
    <li>Integrate with build &amp; test &amp; deploy</li>
  
    <li>Learn how to debug &amp; profile your program</li>
  
  </ul>

  
  <p>
    3. Compare Go to what you use today 
  </p>
  

  <ul>
  
    <li>Isolate the language change; try not to change anything else.</li>
  
  </ul>

  
  <p>
    4. <b>Present results to the team</b>
  </p>
  

      
      </article>
  
  
  
      <article class="">
      
        <h3>Go is designed for tooling</h3>
        
  
  <p>
    Go tools meet you where you are.  There's no one "Go IDE".
  </p>
  

  <ul>
  
    <li>IDE &amp; editor integration: Eclipse, IntelliJ, VisualStudio, SublimeText, emacs, vim, ...</li>
  
    <li><a href="http://play.golang.org/" target="_blank">play.golang.org</a>: online playground</li>
  
    <li><code>gofmt</code>: automatic formatting</li>
  
    <li><code>goimports</code>: automatic updates of package imports</li>
  
    <li><code>gocode</code>: automatic completion</li>
  
    <li>the <code>go</code> tool: automatic fetch &amp; build</li>
  
    <li><code>guru</code>: static analysis, bug finding, code navigation</li>
  
    <li><a href="http://godoc.org/" target="_blank">godoc.org</a>: open source package index and docs</li>
  
  </ul>

      
      </article>
  
  
  
      <article class="">
      
        <h3>Where to Go next</h3>
        
  
  <p>
    Take the Go Tour online.
  </p>
  
<p class="link"><a href="http://tour.golang.org/" target="_blank">tour.golang.org</a></p>
  
  <p>
    Lots more material.
  </p>
  
<p class="link"><a href="http://golang.org/wiki/Learn" target="_blank">golang.org/wiki/Learn</a></p>
  
  <p>
    Great community.
  </p>
  
<p class="link"><a href="http://golang.org/project" target="_blank">golang.org/project</a></p>
      
      </article>
  
  

      <article class="">
        <h3>Thank you</h3>
        
          <div class="presenter">
            
  
  <p>
    Sameer Ajmani
  </p>
  

  
  <p>
    Manager, Go team
  </p>
  

  
  <p>
    Google
  </p>
  
<p class="link"><a href="http://twitter.com/Sajma" target="_blank">@Sajma</a></p><p class="link"><a href="mailto:sameer@golang.org" target="_blank">sameer@golang.org</a></p>
          </div>
        
      </article>

    <div class="slide-area" id="prev-slide-area"></div><div class="slide-area" id="next-slide-area"></div></section>

    <div id="help" style="display: none;">
      Use the left and right arrow keys or click the left and right
      edges of the page to navigate between slides.<br>
      (Press 'H' or navigate to hide this message.)
    </div>

    
    <script src="./Program your next server in Go_files/play.js"></script>
    

    <script>
      (function() {
        
        if (window["location"] && window["location"]["hostname"] == "talks.golang.org") {
          var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
          ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
          var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
        }
      })();
    </script>
  

<link rel="stylesheet" type="text/css" href="./Program your next server in Go_files/css"><link rel="stylesheet" type="text/css" href="./Program your next server in Go_files/styles.css"><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script><script src="./Program your next server in Go_files/50_c211e.js"></script></body><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div><div style="visibility: hidden; top: -9999px; position: absolute; opacity: 0;"></div></html>